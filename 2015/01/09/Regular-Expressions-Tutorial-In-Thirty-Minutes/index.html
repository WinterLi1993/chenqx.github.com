
 <!DOCTYPE HTML>
<html >
<head>
  <meta charset="UTF-8">
  
    <title>正则表达式30分钟入门教程 | ShinChan&#39;s Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="ShinChan">
    
    <meta name="description" content="本文目标
　　30分钟内让你明白正则表达式是什么，并对它有一些基本的了解，让你可以在自己的程序或网页里使用它。
如何使用本教程
　　别被下面那些复杂的表达式吓倒，只要跟着我一步一步来，你会发现正则表达式其实并没有想像中的那么困难。当然，如果你看完了这篇教程之后，发现自己明白了很多，却又几乎什么都记不">
    
    
    
    
    <link rel="alternative" href="/atom.xml" title="ShinChan&#39;s Blog" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon_new.ico">
    
    
    <link rel="apple-touch-icon" href="/img/pacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/pacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css" type="text/css">

</head>

  <body>
    <header>
      <div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo_new.png" alt="ShinChan&#39;s Blog" title="ShinChan&#39;s Blog"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="ShinChan&#39;s Blog">ShinChan&#39;s Blog</a></h1>
				<h2 class="blog-motto">Vi Veri Veniversum Vivus Vici</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="Menu">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/tags">About</a></li>
					

					<li><a href="https://github.com/chenqx" target="_blank" title="GitHub">GitHub</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="Search" />
						<input type="hidden" name="q" value="site:chenqx.github.com">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/01/09/Regular-Expressions-Tutorial-In-Thirty-Minutes/" title="正则表达式30分钟入门教程" itemprop="url">正则表达式30分钟入门教程</a>
  </h1>
  <p class="article-author">By
       
		<a href="http://chenqx.github.com/about" title="ShinChan" target="_blank" itemprop="author">ShinChan</a>
		
  <p class="article-time">
    <time datetime="2015-01-09T07:24:05.000Z" itemprop="datePublished"> Published Jan 9 2015</time>
    
  </p>
</header>
	<div class="article-content">
		
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">Contents</strong>
		
			<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#本文目标"><span class="toc-number">1.</span> <span class="toc-text">本文目标</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#如何使用本教程"><span class="toc-number">2.</span> <span class="toc-text">如何使用本教程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#正则表达式到底是什么东西？"><span class="toc-number">3.</span> <span class="toc-text">正则表达式到底是什么东西？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#入门"><span class="toc-number">4.</span> <span class="toc-text">入门</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#元字符"><span class="toc-number">5.</span> <span class="toc-text">元字符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#字符转义"><span class="toc-number">6.</span> <span class="toc-text">字符转义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#重复"><span class="toc-number">7.</span> <span class="toc-text">重复</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#字符类"><span class="toc-number">8.</span> <span class="toc-text">字符类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#分枝条件"><span class="toc-number">9.</span> <span class="toc-text">分枝条件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#分组"><span class="toc-number">10.</span> <span class="toc-text">分组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#反义"><span class="toc-number">11.</span> <span class="toc-text">反义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#后向引用"><span class="toc-number">12.</span> <span class="toc-text">后向引用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#零宽断言"><span class="toc-number">13.</span> <span class="toc-text">零宽断言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#负向零宽断言"><span class="toc-number">14.</span> <span class="toc-text">负向零宽断言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#注释"><span class="toc-number">15.</span> <span class="toc-text">注释</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#贪婪与懒惰"><span class="toc-number">16.</span> <span class="toc-text">贪婪与懒惰</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#处理选项"><span class="toc-number">17.</span> <span class="toc-text">处理选项</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#平衡组/递归匹配"><span class="toc-number">18.</span> <span class="toc-text">平衡组/递归匹配</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#参考文献"><span class="toc-number">19.</span> <span class="toc-text">参考文献</span></a></li></ol>
		
		</div>
		
		<h2 id="本文目标">本文目标</h2>
<p>　　30分钟内让你明白正则表达式是什么，并对它有一些基本的了解，让你可以在自己的程序或网页里使用它。</p>
<h2 id="如何使用本教程">如何使用本教程</h2>
<p>　　别被下面那些复杂的表达式吓倒，只要跟着我一步一步来，你会发现正则表达式其实并没有想像中的那么困难。当然，如果你看完了这篇教程之后，发现自己明白了很多，却又几乎什么都记不得，那也是很正常的——我认为，没接触过正则表达式的人在看完这篇教程后，能把提到过的语法记住 80% 以上的可能性为零。这里只是让你明白基本的原理，以后你还需要多练习，多使用，才能熟练掌握正则表达式。</p>
<pre><code>    最重要的是——请给我30分钟，如果你没有使用正则表达式的经验，请不要试图在30秒内入门——除非你是超人 <span class="pseudo">:)</span>
</code></pre><p>　　除了作为入门教程之外，本文还试图成为可以在日常工作中使用的正则表达式语法参考手册。就作者本人的经历来说，这个目标还是完成得不错的——你看，我自己也没能把所有的东西记下来，不是吗？</p>
<h2 id="正则表达式到底是什么东西？">正则表达式到底是什么东西？</h2>
<p>　　在编写处理字符串的程序或网页时，经常会有查找符合某些复杂规则的字符串的需要。正则表达式就是用于描述这些规则的工具。换句话说，<strong>正则表达式</strong>就是记录文本规则的代码。</p>
<pre><code>    字符是计算机软件处理文字时最基本的单位，可能是字母，数字，标点符号，空格，换行符，汉字等等。字符串是0个或更多个字符的序列。文本也就是文字，字符串。说某个字符串匹配某个正则表达式，通常是指这个字符串里有一部分（或几部分分别）能满足表达式给出的条件。
</code></pre><p>　　很可能你使用过 Windows/Dos 下用于文件查找的<strong>通配符 (wildcard)</strong>，也就是<code>*</code>和<code>?</code>。如果你想查找某个目录下的所有的Word文档的话，你会搜索<code>*.doc</code>。在这里，<code>*</code>会被解释成任意的字符串。和通配符类似，正则表达式也是用来进行文本匹配的工具，只不过比起通配符，它能更精确地描述你的需求——当然，代价就是更复杂——比如你可以编写一个正则表达式，用来查找所有以0开头，后面跟着2-3个数字，然后是一个连字号“-”，最后是7或8位数字的字符串(像010-12345678或0376-7654321)。</p>
<h2 id="入门">入门</h2>
<p>　　学习正则表达式的最好方法是从例子开始，理解例子之后再自己对例子进行修改，实验。下面给出了不少简单的例子，并对它们作了详细的说明。<br>　　假设你在一篇英文小说里查找<em>hi</em>，你可以使用正则表达式<em>hi</em>。<br>　　这几乎是最简单的正则表达式了，它可以精确匹配这样的字符串：由两个字符组成，前一个字符是<em>h</em>,后一个是<em>i</em>。通常，处理正则表达式的工具会提供一个忽略大小写的选项，如果选中了这个选项，它可以匹配<em>hi, HI, Hi, hI</em>这四种情况中的任意一种。<br>　　不幸的是，很多单词里包含<em>hi</em>这两个连续的字符，比如 <em>him, history, high</em> 等等。用 <em>hi</em> 来查找的话，这里边的 <em>hi</em> 也会被找出来。如果要精确地查找 <em>hi</em> 这个单词的话，我们应该使用<code>\bhi\b</code>。<br>　　\b是正则表达式规定的一个特殊代码（好吧，某些人叫它<strong>元字符，metacharacter）</strong>，代表着单词的开头或结尾，也就是单词的分界处。虽然通常英文的单词是由空格，标点符号或者换行来分隔的，但是<code>\b</code>并不匹配这些单词分隔字符中的任何一个，它<strong>只匹配一个位置</strong>。</p>
<pre><code>    如果需要更精确的说法，<span class="command">\b</span>匹配这样的位置：它的前一个字符和后一个字符不全是(一个是,一个不是或不存在)<span class="command">\w</span>。
</code></pre><p>　　假如你要找的是 <em>hi</em> 后面不远处跟着一个 <em>Lucy</em>，你应该用 <code>\bhi\b.*\bLucy\b</code>。<br>　　这里，<code>.</code> 是另一个元字符，匹配除了换行符以外的任意字符。<code>*</code> 同样是元字符，不过它代表的不是字符，也不是位置，而是数量——它指定 <code>*</code> 前边的内容可以连续重复使用任意次以使整个表达式得到匹配。因此，<code>.*</code> 连在一起就意味着任意数量的不包含换行的字符。现在 <code>\bhi\b.*\bLucy\b</code> 的意思就很明显了：先是一个单词<em>hi</em>,然后是任意个任意字符(但不能是换行)，最后是<em>Lucy</em>这个单词。<br>　　如果同时使用其它元字符，我们就能构造出功能更强大的正则表达式。比如下面这个例子：<br>　　<em>0\d\d-\d\d\d\d\d\d\d\d</em> 匹配这样的字符串：以0开头，然后是两个数字，然后是一个连字号“-”，最后是8个数字(也就是中国的电话号码。当然，这个例子只能匹配区号为3位的情形)。<br>这里的 <code>\d</code> 是个新的元字符，匹配一位数字(0，或1，或2，或……)。<code>-</code>不是元字符，只匹配它本身——连字符(或者减号，或者中横线，或者随你怎么称呼它)。<br>为了避免那么多烦人的重复，我们也可以这样写这个表达式：<code>0\d{2}-\d{8}</code>。这里<code>\d</code>后面的 <code>{2}({8})</code> 的意思是前面<code>\d</code> 必须连续重复匹配2次(8次)。</p>
<h2 id="元字符">元字符</h2>
<p>　　现在你已经知道几个很有用的元字符了，如 <code>\b</code>, <code>.</code>, <code>*</code>，还有<code>\d.</code>正则表达式里还有更多的元字符，比如<code>\s</code>匹配任意的空白符，包括空格，制表符(Tab)，换行符，中文全角空格等。<code>\w</code>匹配字母或数字或下划线或汉字等。<br>    下面来看看更多的例子：<br>　　<code>\ba\w*\b</code>匹配以字母 <em>a</em> 开头的单词——先是某个单词开始处 (\b)，然后是字母 <em>a</em>,然后是任意数量的字母或数字 (\w*)，最后是单词结束处 (\b)。</p>
<pre><code>    好吧，现在我们说说正则表达式里的单词是什么意思吧：就是不少于一个的连续的\<span class="tag">w</span>。不错，这与学习英文时要背的成千上万个同名的东西的确关系不大 <span class="pseudo">:)</span>
</code></pre><p>　　<code>\d+</code>匹配1个或更多连续的数字。这里的<code>+</code>是和<code>*</code>类似的元字符，不同的是<code>*</code>匹配重复任意次(可能是0次)，而<code>+</code>则匹配重复1次或更多次。<br><code>\b\w{6}\b</code> 匹配刚好6个字符的单词(<strong>表1.常用的元字符</strong>)。</p>
<table>
<thead>
<tr>
<th style="text-align:center"><strong>代码/语法</strong></th>
<th style="text-align:left"><strong>说明</strong>   </th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">.</td>
<td style="text-align:left">匹配除换行符以外的任意字符</td>
</tr>
<tr>
<td style="text-align:center">\w</td>
<td style="text-align:left">匹配字母或数字或下划线或汉字</td>
</tr>
<tr>
<td style="text-align:center">\s</td>
<td style="text-align:left">匹配任意的空白符</td>
</tr>
<tr>
<td style="text-align:center">\d</td>
<td style="text-align:left">匹配数字</td>
</tr>
<tr>
<td style="text-align:center">\b</td>
<td style="text-align:left">匹配单词的开始或结束</td>
</tr>
<tr>
<td style="text-align:center">^</td>
<td style="text-align:left">匹配字符串的开始</td>
</tr>
<tr>
<td style="text-align:center">$</td>
<td style="text-align:left">匹配字符串的结束</td>
</tr>
</tbody>
</table>
<p>　　元字符 <code>^</code>（和数字6在同一个键位上的符号）和<code>$</code>都匹配一个位置，这和 <code>\b</code> 有点类似。^匹配你要用来查找的字符串的开头，<code>$</code> 匹配结尾。这两个代码在验证输入的内容时非常有用，比如一个网站如果要求你填写的QQ号必须为5位到12位数字时，可以使用：<code>^\d{5,12}$</code>。<br>　　这里的<code>{5,12}</code>和前面介绍过的<code>{2}</code>是类似的，只不过<code>{2}</code>匹配只能不多不少重复2次，<code>{5,12}</code>则是重复的次数不能少于5次，不能多于12次，否则都不匹配。<br>　　因为使用了 <code>^</code> 和 <code>$</code> ，所以输入的整个字符串都要用来和<code>\d{5,12}</code>来匹配，也就是说整个输入必须是5到12个数字，因此如果输入的QQ号能匹配这个正则表达式的话，那就符合要求了。<br>　　和忽略大小写的选项类似，有些正则表达式处理工具还有一个处理多行的选项。如果选中了这个选项，<code>^</code>和<code>$</code>的意义就变成了匹配行的开始处和结束处。
　　</p>
<h2 id="字符转义">字符转义</h2>
<p>　　如果你想查找元字符本身的话，比如你查找<code>.</code>,或者<code>*</code>,就出现了问题：你没办法指定它们，因为它们会被解释成别的意思。这时你就得使用<code>\</code>来取消这些字符的特殊意义。因此，你应该使用<code>\.</code>和<code>\*</code>。当然，要查找<code>\</code>本身，你也得用<code>\\.</code><br>例如：<code>deerchao\.net</code>匹配 <em>deerchao.net</em>，<code>C:\\Windows</code>匹配 <em>C:\Windows</em>。</p>
<h2 id="重复">重复</h2>
<p>　　你已经看过了前面的<code>*</code>,<code>+</code>,<code>{2}</code>,<code>{5,12}</code>这几个匹配重复的方式了。下面是正则表达式中所有的限定符(指定数量的代码，例如<code>*</code>,<code>{5,12}</code>等),<strong>表2.常用的限定符</strong>：</p>
<table>
<thead>
<tr>
<th style="text-align:center"><strong>代码/语法</strong></th>
<th style="text-align:left"><strong>说明</strong>   </th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">*</td>
<td style="text-align:left">重复零次或更多次</td>
</tr>
<tr>
<td style="text-align:center">+</td>
<td style="text-align:left">重复一次或更多次</td>
</tr>
<tr>
<td style="text-align:center">?</td>
<td style="text-align:left">重复零次或一次</td>
</tr>
<tr>
<td style="text-align:center">{n}</td>
<td style="text-align:left">重复n次</td>
</tr>
<tr>
<td style="text-align:center">{n,}</td>
<td style="text-align:left">重复n次或更多次</td>
</tr>
<tr>
<td style="text-align:center">{n,m}</td>
<td style="text-align:left">重复n到m次</td>
</tr>
</tbody>
</table>
<p>　　下面是一些使用重复的例子：<br><code>Windows\d+</code>匹配<em>Windows</em>后面跟1个或更多数字<br><code>^\w+</code>匹配一行的第一个单词(或整个字符串的第一个单词，具体匹配哪个意思得看选项设置)。</p>
<h2 id="字符类">字符类</h2>
<p>　　要想查找数字，字母或数字，空白是很简单的，因为已经有了对应这些字符集合的元字符，但是如果你想匹配没有预定义元字符的字符集合(比如元音字母a,e,i,o,u),应该怎么办？<br>　　很简单，你只需要在方括号里列出它们就行了，像 <code>[aeiou]</code> 就匹配任何一个英文元音字母，<code>[.?!]</code> 匹配标点符号(.或?或!)。<br>　　我们也可以轻松地指定一个<strong>字符范围</strong>，像<code>[0-9]</code>代表的含意与<code>\d</code>就是完全一致的：一位数字；同理<code>[a-z0-9A-Z_]</code>也完全等同于<code>\w</code>（如果只考虑英文的话）。<br>　　下面是一个更复杂的表达式：<code>\(?0\d{2}[) -]?\d{8}</code>。<br>　　这个表达式可以匹配几种格式的电话号码，像(010)88886666，或 022-22334455，或 02912345678等。我们对它进行一些分析吧：首先是一个转义字符<code>\(</code>,它能出现0次或1次(?),然后是一个0，后面跟着2个数字(\d{2})，然后是)或-或空格中的一个，它出现1次或不出现(?)，最后是8个数字(\d{8})。</p>
<h2 id="分枝条件">分枝条件</h2>
<p>　　不幸的是，刚才那个表达式也能匹配 010)12345678 或 (022-87654321 这样的“不正确”的格式。要解决这个问题，我们需要用到<strong>分枝条件</strong>。正则表达式里的分枝条件指的是有几种规则，如果满足其中任意一种规则都应该当成匹配，具体方法是用|把不同的规则分隔开。听不明白？没关系，看例子：<br>　　<code>0\d{2}-\d{8}|0\d{3}-\d{7}</code> 这个表达式能匹配两种以连字号分隔的电话号码：一种是三位区号，8位本地号(如010-12345678)，一种是4位区号，7位本地号(0376-2233445)。<br> 　　<code>\(?0\d{2}\)?[- ]?\d{8}|0\d{2}[-]?\d{8}</code> 这个表达式匹配3位区号的电话号码，其中区号可以用小括号括起来，也可以不用，区号与本地号间可以用连字号或空格间隔，也可以没有间隔。你可以试试用分枝条件把这个表达式扩展成也支持4位区号的。<br>　　<code>\d{5}-\d{4}|\d{5}</code> 这个表达式用于匹配美国的邮政编码。美国邮编的规则是5位数字，或者用连字号间隔的9位数字。之所以要给出这个例子是因为它能说明一个问题：<strong>使用分枝条件时，要注意各个条件的顺序</strong>。如果你把它改成 <code>\d{5}|\d{5}-\d{4}</code> 的话，那么就只会匹配5位的邮编(以及9位邮编的前5位)。原因是匹配分枝条件时，将会从左到右地测试每个条件，如果满足了某个分枝的话，就不会去再管其它的条件了。</p>
<h2 id="分组">分组</h2>
<p>　　我们已经提到了怎么重复单个字符（直接在字符后面加上限定符就行了）；但如果想要重复多个字符又该怎么办？你可以用<strong>小括号来指定子表达式(也叫做分组)</strong>，然后你就可以指定这个子表达式的重复次数了，你也可以对子表达式进行其它一些操作(后面会有介绍)。<br>　　<code>(\d{1,3}\.){3}\d{1,3}</code> 是一个简单的IP地址匹配表达式。要理解这个表达式，请按下列顺序分析它：<code>\d{1,3}</code> 匹配1到3位的数字，<code>(\d{1,3}\.){3}</code>匹配三位数字加上一个英文句号(这个整体也就是这个分组)重复3次，最后再加上一个一到三位的数字 <code>(\d{1,3})</code>。</p>
<pre><code>    <span class="literal">IP</span>地址中每个数字都不能大于<span class="number">255</span>. 经常有人问我, <span class="number">01.02</span><span class="string">.03</span><span class="string">.04</span> 这样前面带有<span class="number">0</span>的数字, 是不是正确的<span class="literal">IP</span>地址呢? 答案是: 是的, <span class="literal">IP</span> 地址里的数字可以包含有前导 <span class="number">0</span> (leading zeroes).
</code></pre><p>　　不幸的是，它也将匹配 256.300.888.999 这种不可能存在的IP地址。如果能使用算术比较的话，或许能简单地解决这个问题，但是正则表达式中并不提供关于数学的任何功能，所以只能使用冗长的分组，选择，字符类来描述一个正确的IP地址：<code>((2[0-4]\d|25[0-5]|[01]?\d\d?)\.){3}(2[0-4]\d|25[0-5]|[01]?\d\d?)</code>。<br>　　理解这个表达式的关键是理解 <code>2[0-4]\d|25[0-5]|[01]?\d\d?</code>，这里我就不细说了，你自己应该能分析得出来它的意义。</p>
<h2 id="反义">反义</h2>
<p>　　有时需要查找不属于某个能简单定义的字符类的字符。比如想查找除了数字以外，其它任意字符都行的情况，这时需要用到反义(<strong>表3.常用的反义代码</strong>)：</p>
<table>
<thead>
<tr>
<th style="text-align:center"><strong>代码/语法</strong></th>
<th style="text-align:left"><strong>说明</strong>   </th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">\W</td>
<td style="text-align:left">匹配任意不是字母，数字，下划线，汉字的字符</td>
</tr>
<tr>
<td style="text-align:center">\S</td>
<td style="text-align:left">匹配任意不是空白符的字符</td>
</tr>
<tr>
<td style="text-align:center">\D</td>
<td style="text-align:left">匹配任意非数字的字符</td>
</tr>
<tr>
<td style="text-align:center">\B</td>
<td style="text-align:left">匹配不是单词开头或结束的位置</td>
</tr>
<tr>
<td style="text-align:center">[^x]</td>
<td style="text-align:left">匹配除了x以外的任意字符</td>
</tr>
<tr>
<td style="text-align:center">[^aeiou]</td>
<td style="text-align:left">匹配除了aeiou这几个字母以外的任意字符</td>
</tr>
</tbody>
</table>
<p>　　例子：<code>\S+</code>匹配不包含空白符的字符串。<br>　　<code>&lt;a[^&gt;]+&gt;</code>匹配用尖括号括起来的以a开头的字符串。</p>
<h2 id="后向引用">后向引用</h2>
<p>　　使用小括号指定一个子表达式后，<strong>匹配这个子表达式的文本</strong>(也就是此分组捕获的内容)可以在表达式或其它程序中作进一步的处理。默认情况下，每个分组会自动拥有一个组号，规则是：从左向右，以分组的左括号为标志，第一个出现的分组的组号为1，第二个为2，以此类推。</p>
<pre><code>    呃……其实,组号分配还不像我刚说得那么简单：
-<span class="ruby"> 分组<span class="number">0</span>对应整个正则表达式
</span>-<span class="ruby"> 实际上组号分配过程是要从左向右扫描两遍的：第一遍只给未命名组分配，第二遍只给命名组分配－－因此所有命名组的组号都大于未命名的组号
</span>-<span class="ruby"> 你可以使用(?:exp)这样的语法来剥夺一个分组对组号分配的参与权．</span>
</code></pre><p>　　<strong>后向引用</strong>用于重复搜索前面某个分组匹配的文本。例如，<code>\1</code>代表分组1匹配的文本。难以理解？请看示例：<br>　　<code>\b(\w+)\b\s+\1\b</code> 可以用来匹配重复的单词，像<em>go go</em>, 或者 <em>kitty kitty</em>。这个表达式首先是一个单词，也就是单词开始处和结束处之间的多于一个的字母或数字 <code>(\b(\w+)\b)</code>，这个单词会被捕获到编号为1的分组中，然后是1个或几个空白符 <code>(\s+)</code>，最后是分组1中捕获的内容（也就是前面匹配的那个单词） <code>(\1)</code>。<br>　　你也可以自己指定子表达式的<strong>组名</strong>。要指定一个子表达式的组名，请使用这样的语法：<code>(?&lt;Word&gt;\w+)</code>(或者把尖括号换成’也行：<code>(?&#39;Word&#39;\w+))</code>,这样就把 <code>\w+</code> 的组名指定为 <em>Word</em> 了。要反向引用这个分组<strong>捕获</strong>的内容，你可以使用 <code>\k&lt;Word&gt;</code> ,所以上一个例子也可以写成这样：<code>\b(?&lt;Word&gt;\w+)\b\s+\k&lt;Word&gt;\b</code>。<br>　　使用小括号的时候，还有很多特定用途的语法。下面列出了最常用的一些(<strong>表4.常用分组语法</strong>)：</p>
<table>
<thead>
<tr>
<th style="text-align:center"><strong>分类</strong></th>
<th style="text-align:center"><strong>代码/语法</strong></th>
<th style="text-align:left"><strong>说明</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">捕获</td>
<td style="text-align:center">(exp)</td>
<td style="text-align:left">匹配exp,并捕获文本到自动命名的组里</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">(?<name>exp)</name></td>
<td style="text-align:left">匹配exp,并捕获文本到名称为name的组里，也可以写成(?’name’exp)</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">(?:exp)</td>
<td style="text-align:left">匹配exp,不捕获匹配的文本，也不给此分组分配组号</td>
</tr>
<tr>
<td style="text-align:center">零宽断言</td>
<td style="text-align:center">(?=exp)</td>
<td style="text-align:left">匹配exp前面的位置</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">(?&lt;=exp)</td>
<td style="text-align:left">匹配exp后面的位置</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">(?!exp)</td>
<td style="text-align:left">匹配后面跟的不是exp的位置</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">(?&lt;!exp)</td>
<td style="text-align:left">匹配前面不是exp的位置</td>
</tr>
<tr>
<td style="text-align:center">注释</td>
<td style="text-align:center">(?#comment)</td>
<td style="text-align:left">这种类型的分组不对正则表达式的处理产生任何影响，用于提供注释让人阅读</td>
</tr>
</tbody>
</table>
<p>　　我们已经讨论了前两种语法。第三个<code>(?:exp)</code>不会改变正则表达式的处理方式，只是这样的组匹配的内容不会像前两种那样被捕获到某个组里面，也不会拥有组号。“我为什么会想要这样做？”——好问题，你觉得为什么呢？</p>
<h2 id="零宽断言">零宽断言</h2>
<p>　　接下来的四个用于查找在某些内容(但并不包括这些内容)之前或之后的东西，也就是说它们像<code>\b</code>,<code>^</code>,<code>$</code>那样用于指定一个位置，这个位置应该满足一定的条件(即断言)，因此它们也被称为<strong>零宽断言</strong>。最好还是拿例子来说明吧：</p>
<pre><code><span class="code">    断言用来声明一个应该为真的事实。正则表达式中只有当断言为真时才会继续进行匹配。</span>

<span class="smartquote">`(?=exp)`也叫**零宽度正预测先行断言**，它断言自身出现的位置的后面能匹配表达式exp。比如 `\b\w+(?=ing\b)`，匹配以ing结尾的单词的前面部分(除了ing以外的部分)，如查找*I'</span>m singing while you're dancing.* 时，它会匹配<span class="strong">*sing*</span>和<span class="strong">*danc*</span>。
</code></pre><p>　　<code>(?&lt;=exp)</code>也叫<strong>零宽度正回顾后发断言</strong>，它断言自身出现的位置的前面能匹配表达式exp。比如 <code>(?&lt;=\bre)\w+\b</code> 会匹配以re开头的单词的后半部分(除了re以外的部分)，例如在查找 <em>reading a book</em> 时，它匹配 <em>ading</em> 。<br>　　假如你想要给一个很长的数字中每三位间加一个逗号(当然是从右边加起了)，你可以这样查找需要在前面和里面添加逗号的部分：<code>((?&lt;=\d)\d{3})+\b</code>，用它对 1234567890 进行查找时结果是 234567890。<br>　　下面这个例子同时使用了这两种断言：<code>(?&lt;=\s)\d+(?=\s)</code> 匹配以空白符间隔的数字(再次强调，不包括这些空白符)。</p>
<h2 id="负向零宽断言">负向零宽断言</h2>
<p>　　前面我们提到过怎么查找<strong>不是某个字符或不在某个字符类里的字符的方法(反义)</strong>。但是如果我们<strong>只是想要确保某个字符没有出现，但并不想去匹配它</strong>时怎么办？例如，如果我们想查找这样的单词—它里面出现了字母q,但是q后面跟的不是字母u,我们可以尝试这样：<br>　　<code>\b\w*q[^u]\w*\b</code>匹配包含后面不是字母u的字母q的单词。但是如果多做测试(或者你思维足够敏锐，直接就观察出来了)，你会发现，如果q出现在单词的结尾的话，像<em>Iraq,Benq</em>，这个表达式就会出错。这是因为<code>[^u]</code>总要匹配一个字符，所以如果q是单词的最后一个字符的话，后面的<code>[^u]</code>将会匹配q后面的单词分隔符(可能是空格，或者是句号或其它的什么)，后面的\w<code>*\b</code>将会匹配下一个单词，于是 <code>b\w*q[^u]\w*\b</code> 就能匹配整个 <em>Iraq fighting</em> 。<strong>负向零宽断言</strong>能解决这样的问题，因为它只匹配一个位置，并不消费任何字符。现在，我们可以这样来解决这个问题：<code>\b\w*q(?!u)\w*\b</code>。<br><strong>零宽度负预测先行断言</strong><code>(?!exp)</code>，断言此位置的后面不能匹配表达式exp。例如：<code>\d{3}(?!\d)</code>匹配三位数字，而且这三位数字的后面不能是数字；<code>\b((?!abc)\w)+\b</code>匹配不包含连续字符串abc的单词。<br>　　同理，我们可以用<code>(?&lt;!exp)</code>,<strong>零宽度负回顾后发断言</strong>来断言此位置的前面不能匹配表达式<code>exp：(?&lt;![a-z])\d{7}</code>匹配前面不是小写字母的七位数字。</p>
<pre><code>    请详细分析表达式 `(?<span class="variable">&lt;=&lt;(\w+)&gt;</span>).<span class="keyword">*</span>(?=<span class="variable">&lt;\/\1&gt;</span>)`，这个表达式最能表现零宽断言的真正用途。
</code></pre><p>　　一个更复杂的例子：<code>(?&lt;=&lt;(\w+)&gt;).*(?=&lt;\/\1&gt;) 匹配不包含属性的简单 HTML 标签内里的内容。</code>(?&lt;=&lt;(\w+)&gt;)<code>指定了这样的**前缀**：被尖括号括起来的单词(比如可能是</code><b><code>)，然后是</code>.<em>`(任意的字符串),最后是一个<em>*后缀</em></em><code>(?=&lt;\/\1&gt;)</code>。注意后缀里的<code>\/</code>，它用到了前面提过的字符转义；<code>\1</code>则是一个反向引用，引用的正是捕获的第一组，前面的<code>(\w+)</code>匹配的内容，这样如果前缀实际上是<code>&lt;b&gt;</code>的话，后缀就是<code>&lt;/b&gt;</code>了。整个表达式匹配的是<code>&lt;b&gt;</code>和<code>&lt;/b&gt;</code>之间的内容(再次提醒，不包括前缀和后缀本身)。</b></p>
<h2 id="注释">注释</h2>
<p>　　小括号的另一种用途是通过语法 <code>(?#comment)</code> 来包含注释。例如：<code>2[0-4]\d(?#200-249)|25[0-5](?#250-255)|[01]?\d\d?(?#0-199)</code>。<br>　　要包含注释的话，最好是启用“忽略模式里的空白符”选项，这样在编写表达式时能任意的添加空格，Tab，换行，而实际使用时这些都将被忽略。启用这个选项后，在#后面到这一行结束的所有文本都将被当成注释忽略掉。例如，我们可以前面的一个表达式写成这样：</p>
<pre><code>      (?<span class="variable">&lt;=    # 断言要匹配的文本的前缀
      &lt;(\w+)&gt;</span> <span class="comment"># 查找尖括号括起来的字母或数字(即HTML/XML标签)</span>
      )       <span class="comment"># 前缀结束</span>
      .<span class="keyword">*</span>      <span class="comment"># 匹配任意文本</span>
      (?=     <span class="comment"># 断言要匹配的文本的后缀</span>
      <span class="variable">&lt;\/\1&gt;</span>  <span class="comment"># 查找尖括号括起来的内容：前面是一个"/"，后面是先前捕获的标签</span>
      )       <span class="comment"># 后缀结束</span>
</code></pre><h2 id="贪婪与懒惰">贪婪与懒惰</h2>
<p>　　当正则表达式中包含能接受重复的限定符时，通常的行为是（在使整个表达式能得到匹配的前提下）<strong>匹配尽可能多的字符</strong>。以这个表达式为例：<code>a.*b</code>，它将会匹配最长的以a开始，以b结束的字符串。如果用它来搜索<em>aabab</em>的话，它会匹配整个字符串<em>aabab</em>。这被称为<strong>贪婪匹配</strong>。<br>　　有时，我们更需要<strong>懒惰匹配</strong>，也就是匹配尽可能少的字符。前面给出的限定符都可以被转化为懒惰匹配模式，只要在它后面加上一个问号<code>?</code>。这样<code>.*?</code>就意味着匹配任意数量的重复，但是在能使整个匹配成功的前提下使用最少的重复。现在看看懒惰版的例子吧：<br>　　<code>a.*?b</code>匹配最短的，以 a 开始，以 b 结束的字符串。如果把它应用于<em>aabab</em>的话，它会匹配<em>aab</em>（第一到第三个字符）和<em>ab</em>（第四到第五个字符）。(<strong>表5.懒惰限定符</strong>)</p>
<table>
<thead>
<tr>
<th style="text-align:center"><strong>代码/语法</strong></th>
<th style="text-align:left"><strong>说明</strong>   </th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">*?</td>
<td style="text-align:left">重复任意次，但尽可能少重复</td>
</tr>
<tr>
<td style="text-align:center">+?</td>
<td style="text-align:left">重复1次或更多次，但尽可能少重复</td>
</tr>
<tr>
<td style="text-align:center">??</td>
<td style="text-align:left">重复0次或1次，但尽可能少重复</td>
</tr>
<tr>
<td style="text-align:center">{n,m}?</td>
<td style="text-align:left">重复n到m次，但尽可能少重复</td>
</tr>
<tr>
<td style="text-align:center">{n,}?</td>
<td style="text-align:left">重复n次以上，但尽可能少重复</td>
</tr>
</tbody>
</table>
<h2 id="处理选项">处理选项</h2>
<p>　　上面介绍了几个选项如忽略大小写，处理多行等，这些选项能用来改变处理正则表达式的方式。下面是.Net中常用的正则表达式选项（<strong>表6.常用的处理选项</strong>）：</p>
<table>
<thead>
<tr>
<th style="text-align:center"><strong>名称</strong></th>
<th style="text-align:left"><strong>说明</strong>   </th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">IgnoreCase(忽略大小写)</td>
<td style="text-align:left">匹配时不区分大小写。</td>
</tr>
<tr>
<td style="text-align:center">Multiline(多行模式)</td>
<td style="text-align:left">更改^和$的含义，使它们分别在任意一行的行首和行尾匹配，而不仅仅在整个字符串的开头和结尾匹配。(在此模式下,$的精确含意是:匹配\n之前的位置以及字符串结束前的位置.)</td>
</tr>
<tr>
<td style="text-align:center">Singleline(单行模式)</td>
<td style="text-align:left">更改.的含义，使它与每一个字符匹配（包括换行符\n）。</td>
</tr>
<tr>
<td style="text-align:center">IgnorePatternWhitespace(忽略空白)</td>
<td style="text-align:left">忽略表达式中的非转义空白并启用由#标记的注释。</td>
</tr>
<tr>
<td style="text-align:center">ExplicitCapture(显式捕获)</td>
<td style="text-align:left">仅捕获已被显式命名的组。</td>
</tr>
</tbody>
</table>
<p>　　一个经常被问到的问题是：是不是只能同时使用多行模式和单行模式中的一种？答案是：不是。这两个选项之间没有任何关系，除了它们的名字比较相似（以至于让人感到疑惑）以外。</p>
<h2 id="平衡组/递归匹配">平衡组/递归匹配</h2>
<p>　　有时我们需要匹配像 ( 100 * ( 50 + 15 ) ) 这样的可嵌套的层次性结构，这时简单地使用 <code>\(.+\)</code> 则只会匹配到最左边的左括号和最右边的右括号之间的内容(这里我们讨论的是贪婪模式，懒惰模式也有下面的问题)。假如原来的字符串里的左括号和右括号出现的次数不相等，比如 ( 5 / ( 3 + 2 ) ) )，那我们的匹配结果里两者的个数也不会相等。有没有办法在这样的字符串里匹配到最长的，配对的括号之间的内容呢？<br>　　为了避免(和<code>\(</code>把你的大脑彻底搞糊涂，我们还是用尖括号代替圆括号吧。现在我们的问题变成了如何把<code>xx &lt;aa &lt;bbb&gt; &lt;bbb&gt; aa&gt; yy</code>这样的字符串里，最长的配对的尖括号内的内容捕获出来？<br>　　这里需要用到以下的语法构造：
　　</p>
<ul>
<li><code>(?&#39;group&#39;)</code> 把捕获的内容命名为group,并压入<strong>堆栈(Stack)</strong></li>
<li><code>(?&#39;-group&#39;)</code>从堆栈上弹出最后压入堆栈的名为group的捕获内容，如果堆栈本来为空，则本分组的匹配失败</li>
<li><code>(?(group)yes|no)</code> 如果堆栈上存在以名为group的捕获内容的话，继续匹配yes部分的表达式，否则继续匹配no部分</li>
<li><p><code>(?!)</code> 零宽负向先行断言，由于没有后缀表达式，试图匹配总是失败</p>
<pre><code>  如果你不是一个程序员（或者你自称程序员但是不知道堆栈是什么东西），你就这样理解上面的三种语法吧：第一个就是在黑板上写一个<span class="string">"group"</span>，第二个就是从黑板上擦掉一个<span class="string">"group"</span>，第三个就是看黑板上写的还有没有<span class="string">"group"</span>，如果有就继续匹配<span class="literal">yes</span>部分，否则就匹配<span class="literal">no</span>部分。
</code></pre></li>
</ul>
<p>　　我们需要做的是每碰到了左括号，就在压入一个”Open”,每碰到一个右括号，就弹出一个，到了最后就看看堆栈是否为空－－如果不为空那就证明左括号比右括号多，那匹配就应该失败。正则表达式引擎会进行回溯(放弃最前面或最后面的一些字符)，尽量使整个表达式得到匹配。</p>
<pre><code><span class="variable">&lt;                         #最外层的左括号
    [^&lt;&gt;</span>]<span class="keyword">*</span>                <span class="comment">#最外层的左括号后面的不是括号的内容</span>
    (
        (
            (?'Open'<span class="variable">&lt;)    #碰到了左括号，在黑板上写一个"Open"
            [^&lt;&gt;</span>]<span class="keyword">*</span>       <span class="comment">#匹配左括号后面的不是括号的内容</span>
        )+
        (
            (?'-Open'&gt;)   <span class="comment">#碰到了右括号，擦掉一个"Open"</span>
            [^<span class="variable">&lt;&gt;</span>]<span class="keyword">*</span>        <span class="comment">#匹配右括号后面不是括号的内容</span>
        )+
    )<span class="keyword">*</span>
    (?(Open)(?!))         <span class="comment">#在遇到最外层的右括号前面，判断黑板上还有没有没擦掉的"Open"；如果还有，则匹配失败</span>

&gt;                         <span class="comment">#最外层的右括号</span>
</code></pre><p>　　平衡组的一个最常见的应用就是匹配HTML，下面这个例子可以匹配嵌套的&lt; div &gt;标签。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="title">div[^</span>&gt;</span>]*&gt;[^<span class="tag">&lt;&gt;</span>]*(((?'Open'<span class="tag">&lt;<span class="title">div[^</span>&gt;</span>]*&gt;)[^<span class="tag">&lt;&gt;</span>]*)+((?'-Open'<span class="tag">&lt;/<span class="title">div</span>&gt;</span>)[^<span class="tag">&lt;&gt;</span>]*)+)*(?(Open)(?!))<span class="tag">&lt;/<span class="title">div</span>&gt;</span></div></pre></td></tr></table></figure>

<h2 id="参考文献">参考文献</h2>
<ul>
<li><a href="http://item.jd.com/11070361.html?sid=deerchao&amp;t=1" target="_blank" rel="external">精通正则表达式（第3版）</a></li>
<li><a href="http://msdn.microsoft.com/zh-cn/library/az24scfc.aspx" target="_blank" rel="external">微软的正则表达式教程</a></li>
<li><a href="http://msdn.microsoft.com/zh-cn/library/system.text.regularexpressions.regex.aspx" target="_blank" rel="external">System.Text.RegularExpressions.Regex类(MSDN)</a></li>
<li><a href="http://www.regular-expressions.info/pressions.regex.aspx" target="_blank" rel="external">专业的正则表达式教学网站(英文)</a></li>
</ul>
<p>作者：<a href="http://deerchao.net/" target="_blank" rel="external">deerchao</a> — 转自<a href="http://deerchao.net/tutorials/regex/regex.htm#mission" target="_blank" rel="external">原文</a></p>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Tools/">Tools</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Tools/">Tools</a><a href="/tags/NLP/">NLP</a>
  </div>

</div>


<div class="article-share" id="share">

  <div data-url="http://chenqx.github.com/2015/01/09/Regular-Expressions-Tutorial-In-Thirty-Minutes/" data-title="正则表达式30分钟入门教程 | ShinChan&#39;s Blog" data-tsina="null" class="share clearfix">
  </div>

</div>
</footer>   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2015/01/12/Hadoop-Spark/" title="Hadoop/Spark">
  <strong>上一篇：</strong><br/>
  <span>
  Hadoop/Spark</span>
</a>
</div>


<div class="next">
<a href="/2014/12/23/Spider-Advanced-for-Dynamic-Website-Crawling/"  title="Scrapy爬虫抓取动态网站">
 <strong>下一篇：</strong><br/> 
 <span>Scrapy爬虫抓取动态网站
</span>
</a>
</div>

</nav>

	<!-- 多说评论框 start -->

	<div class="ds-thread" data-thread-key="2015/01/09/Regular-Expressions-Tutorial-In-Thirty-Minutes/" data-title=”正则表达式30分钟入门教程” data-url="http://chenqx.github.com/2015/01/09/Regular-Expressions-Tutorial-In-Thirty-Minutes/"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"chenqx"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- 多说公共JS代码 end -->


</div>  
      <div class="openaside"><a class="navbutton" href="#" title="Show Sidebar"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">Contents</strong>
 
 <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#本文目标"><span class="toc-number">1.</span> <span class="toc-text">本文目标</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#如何使用本教程"><span class="toc-number">2.</span> <span class="toc-text">如何使用本教程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#正则表达式到底是什么东西？"><span class="toc-number">3.</span> <span class="toc-text">正则表达式到底是什么东西？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#入门"><span class="toc-number">4.</span> <span class="toc-text">入门</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#元字符"><span class="toc-number">5.</span> <span class="toc-text">元字符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#字符转义"><span class="toc-number">6.</span> <span class="toc-text">字符转义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#重复"><span class="toc-number">7.</span> <span class="toc-text">重复</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#字符类"><span class="toc-number">8.</span> <span class="toc-text">字符类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#分枝条件"><span class="toc-number">9.</span> <span class="toc-text">分枝条件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#分组"><span class="toc-number">10.</span> <span class="toc-text">分组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#反义"><span class="toc-number">11.</span> <span class="toc-text">反义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#后向引用"><span class="toc-number">12.</span> <span class="toc-text">后向引用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#零宽断言"><span class="toc-number">13.</span> <span class="toc-text">零宽断言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#负向零宽断言"><span class="toc-number">14.</span> <span class="toc-text">负向零宽断言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#注释"><span class="toc-number">15.</span> <span class="toc-text">注释</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#贪婪与懒惰"><span class="toc-number">16.</span> <span class="toc-text">贪婪与懒惰</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#处理选项"><span class="toc-number">17.</span> <span class="toc-text">处理选项</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#平衡组/递归匹配"><span class="toc-number">18.</span> <span class="toc-text">平衡组/递归匹配</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#参考文献"><span class="toc-number">19.</span> <span class="toc-text">参考文献</span></a></li></ol>
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="Hide Sidebar"></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">Categories</p>
		<ul>
		
			<li><a href="/categories/Algorithm/" title="Algorithm">Algorithm<sup>1</sup></a></li>
		
			<li><a href="/categories/Data-Mining/" title="Data Mining">Data Mining<sup>2</sup></a></li>
		
			<li><a href="/categories/Develop/" title="Develop">Develop<sup>9</sup></a></li>
		
			<li><a href="/categories/Hadoop-Spark/" title="Hadoop/Spark">Hadoop/Spark<sup>1</sup></a></li>
		
			<li><a href="/categories/Linux/" title="Linux">Linux<sup>1</sup></a></li>
		
			<li><a href="/categories/Machine-Learning/" title="Machine Learning">Machine Learning<sup>2</sup></a></li>
		
			<li><a href="/categories/NLP/" title="NLP">NLP<sup>1</sup></a></li>
		
			<li><a href="/categories/Quant/" title="Quant">Quant<sup>1</sup></a></li>
		
			<li><a href="/categories/Tools/" title="Tools">Tools<sup>2</sup></a></li>
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">Tags</p>
		<ul class="clearfix">
		
			<li><a href="/tags/Python/" title="Python">Python<sup>4</sup></a></li>
		
			<li><a href="/tags/NLP/" title="NLP">NLP<sup>3</sup></a></li>
		
			<li><a href="/tags/Machine-Learning/" title="Machine Learning">Machine Learning<sup>3</sup></a></li>
		
			<li><a href="/tags/C-C/" title="C/C++">C/C++<sup>2</sup></a></li>
		
			<li><a href="/tags/Scrapy/" title="Scrapy">Scrapy<sup>2</sup></a></li>
		
			<li><a href="/tags/TextEditor/" title="TextEditor">TextEditor<sup>2</sup></a></li>
		
			<li><a href="/tags/Data-Mining/" title="Data Mining">Data Mining<sup>2</sup></a></li>
		
			<li><a href="/tags/Tools/" title="Tools">Tools<sup>2</sup></a></li>
		
			<li><a href="/tags/Hadoop/" title="Hadoop">Hadoop<sup>1</sup></a></li>
		
			<li><a href="/tags/Design-Pattern/" title="Design Pattern">Design Pattern<sup>1</sup></a></li>
		
			<li><a href="/tags/Algorithm/" title="Algorithm">Algorithm<sup>1</sup></a></li>
		
			<li><a href="/tags/Spark/" title="Spark">Spark<sup>1</sup></a></li>
		
			<li><a href="/tags/MongoDB/" title="MongoDB">MongoDB<sup>1</sup></a></li>
		
			<li><a href="/tags/C/" title="C++">C++<sup>1</sup></a></li>
		
			<li><a href="/tags/Text-Mining/" title="Text Mining">Text Mining<sup>1</sup></a></li>
		
			<li><a href="/tags/MySQL/" title="MySQL">MySQL<sup>1</sup></a></li>
		
			<li><a href="/tags/Markdown/" title="Markdown">Markdown<sup>1</sup></a></li>
		
			<li><a href="/tags/Quant/" title="Quant">Quant<sup>1</sup></a></li>
		
			<li><a href="/tags/Linux/" title="Linux">Linux<sup>1</sup></a></li>
		
			<li><a href="/tags/Vim/" title="Vim">Vim<sup>1</sup></a></li>
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">Links</p>
    <ul>
        
          <li>
            <a href="https://github.com/chenqx" target="_blank" title="GitHub">GitHub</a>
          </li>
        
          <li>
            <a href="http://www.pami.sjtu.edu.cn/" target="_blank" title="PAMI Lab">PAMI Lab</a>
          </li>
        
    </ul>
</div>

  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	
	<section class="info">
		<p>   <br/>
			 </p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		
		<a href="https://github.com/chenqx" target="_blank" class="icon-github" title="github"></a>
		
		
		<a href="http://stackoverflow.com/users/4180579" target="_blank" class="icon-stack-overflow" title="stackoverflow"></a>
		
		
		
		
		
		
		
		<a href="mailto:chenqiuxing@gmail.com" target="_blank" class="icon-email" title="Email Me"></a>
		
	</div>
		<p class="copyright">Powered by <a href="http://zespia.tw/hexo/" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Pacman">Jacman</a> © 2015 
		
		<a href="http://chenqx.github.com/about" target="_blank" title="ShinChan">ShinChan</a>
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else
    {
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      h  = $('article h2')
      ah = $('article h2'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  if(ah.length==0){
    t.css('display','none');
  }else{
    c.click(function(){
      ta.css('display', 'block').addClass('fadeIn');
    });
    o.click(function(){
      ta.css('display', 'none');
    });
    $(window).scroll(function(){
      ta.css("top",Math.max(140,320-$(this).scrollTop()));
    });
  };
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<a href="#" class="overlay" id="qrcode"></a>',
  '<div class="qrcode clearfix"><span>扫描二维码分享到微信朋友圈</span><a class="qrclose" href="#share"></a><strong>Loading...Please wait</strong><img id="qrcode-pic" data-src="http://s.jiathis.com/qrcode.php?url=' + encodedUrl + '"/></div>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="QRcode"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="Weibo"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);
  $('.article-share-qrcode').click(function(){
    var imgSrc = $('#qrcode-pic').attr('data-src');
    $('#qrcode-pic').attr('src', imgSrc);
    $('#qrcode-pic').load(function(){
        $('.qrcode strong').text(' ');
    });
  });
});     
</script>









<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>




<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-56584658-1', 'auto');  
ga('send', 'pageview');
</script>




<div id="totop">
<a title="Back to Top"><img src="/img/scrollup.png"/></a>
</div>

<script src="/js/totop.js"></script>



<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



  </body>
</html>
